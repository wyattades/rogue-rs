<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Roguelike</title>
    <style>
      pre {
        margin: 0;
      }
      label {
        margin-top: 10px;
        display: block;
      }
    </style>
  <script type="text/javascript" src="index.js"></script></head>
  <body>
    <div id="root"></div>
    <p>
      <strong>Directions:</strong> use WASD to move and the arrow keys to attack
    </p>
    <label>
      Render mode:
      <select name="renderMode" class="gameOption">
        <option value="text">Text</option>
        <option value="canvas_2d">Canvas 2D</option>
      </select></label
    >
    <label>
      Seed:
      <input
        name="seed"
        class="gameOption"
        type="text"
        placeholder="Leave blank for random seed"
      />
    </label>
    <script>
      function runGame() {
        if (window.ROGUELIKE_INSTANCE) window.ROGUELIKE_INSTANCE.dispose();

        window.ROGUELIKE_INSTANCE = window.runRoguelike({
          renderMode: document.querySelector('[name="renderMode"]').value,
          seed: document.querySelector('[name="seed"]').value,
          containerId: 'root'
        });
      }

      document.querySelectorAll('.gameOption').forEach(function(el) {
        el.addEventListener('change', runGame);
      });
      runGame();
    </script>
  </body>
</html>
